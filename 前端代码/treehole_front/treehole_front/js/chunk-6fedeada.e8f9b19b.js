(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fedeada"],{a55b:function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("div",{staticClass:"login_bg"},[a("el-col",{staticClass:"login_box",attrs:{span:6,offset:9}},[a("el-card",{staticClass:"box-card"},[a("p",[e._v("用户名密码登录")]),a("div",{staticClass:"login_input"},[a("form",{attrs:{action:""}},[a("el-input",{attrs:{placeholder:"用户名"},model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}}),a("br"),a("br"),a("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1),a("br"),a("br"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("登录")]),a("p",[a("el-link",[e._v("忘记密码")]),e._v(" "),a("el-link",{attrs:{href:"/user/register"}},[e._v("立即注册")])],1)],1)])],1)],1)])},r=[],n=a("b775"),o=(a("15d8"),a("4a9d")),i={data(){return{user:{username:"",password:""}}},methods:{handleLogin(){n["a"].post("/user/login",{username:this.user.username,password:this.user.password}).then(e=>{"用户不存在"==e.data.message&&this.$message.error("账号不存在"),"密码错误"==e.data.message&&this.$message.error("密码错误"),"认证错误"==e.data.message&&this.$message.error("认证失败"),"登录成功"==e.data.message&&(this.$message.success("登录成功"),console.log(e.data.data),this.setCookie("token",e.data.data.token),this.setCookie("currentUserID",e.data.data.currentUser.id),this.$parent.seen=!0,o["a"].$emit("loginSuccess","aaa"),this.$router.push("/"))})},setCookie(e,s){var a=.5,t=new Date;t.setTime(t.getTime()+60*a*60*1e3),document.cookie=e+"="+escape(s)+";expires="+t.toGMTString()}},created(){this.$parent.seen=!1}},l=i,u=(a("d6db"),a("2877")),d=Object(u["a"])(l,t,r,!1,null,null,null);s["default"]=d.exports},d6db:function(e,s,a){"use strict";a("e67a")},e67a:function(e,s,a){}}]);
//# sourceMappingURL=chunk-6fedeada.e8f9b19b.js.map