(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b7a2ae4"],{1348:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg"},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:10}},[a("el-card",{staticClass:"box-card"},[a("div",{staticStyle:{width:"100%","text-align":"center"}},[a("h2",[e._v("用户注册")])]),a("br"),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{"label-width":"80px",model:e.user}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{placeholder:"长度不能超过10个字符"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),a("el-form-item",{attrs:{label:"生日"}},[a("el-input",{attrs:{placeholder:"日期格式:yyyy-MM-dd,例如:1998-10-09"},model:{value:e.user.birthday,callback:function(t){e.$set(e.user,"birthday",t)},expression:"user.birthday"}})],1),a("el-form-item",{attrs:{label:"所在城市"}},[a("el-select",{model:{value:e.user.area,callback:function(t){e.$set(e.user,"area",t)},expression:"user.area"}},[a("el-option",{attrs:{value:"广东"}}),a("el-option",{attrs:{value:"北京"}}),a("el-option",{attrs:{value:"上海"}}),a("el-option",{attrs:{value:"天津"}}),a("el-option",{attrs:{value:"重庆"}}),a("el-option",{attrs:{value:"内蒙古"}}),a("el-option",{attrs:{value:"广西"}}),a("el-option",{attrs:{value:"西藏"}}),a("el-option",{attrs:{value:"宁夏"}}),a("el-option",{attrs:{value:"新疆"}}),a("el-option",{attrs:{value:"香港特别行政区"}}),a("el-option",{attrs:{value:"澳门特别行政区"}}),a("el-option",{attrs:{value:"河北"}}),a("el-option",{attrs:{value:"山西"}}),a("el-option",{attrs:{value:"辽宁"}}),a("el-option",{attrs:{value:"吉林"}}),a("el-option",{attrs:{value:"黑龙江"}}),a("el-option",{attrs:{value:"江苏"}}),a("el-option",{attrs:{value:"浙江"}}),a("el-option",{attrs:{value:"安徽"}}),a("el-option",{attrs:{value:"福建"}}),a("el-option",{attrs:{value:"江西"}}),a("el-option",{attrs:{value:"山东"}}),a("el-option",{attrs:{value:"河南"}}),a("el-option",{attrs:{value:"湖北"}}),a("el-option",{attrs:{value:"湖南"}}),a("el-option",{attrs:{value:"海南"}}),a("el-option",{attrs:{value:"四川"}}),a("el-option",{attrs:{value:"贵州"}}),a("el-option",{attrs:{value:"云南"}}),a("el-option",{attrs:{value:"陕西"}}),a("el-option",{attrs:{value:"甘肃"}}),a("el-option",{attrs:{value:"青海"}}),a("el-option",{attrs:{value:"台湾"}})],1)],1),a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{model:{value:e.user.telephone,callback:function(t){e.$set(e.user,"telephone",t)},expression:"user.telephone"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),a("el-form-item",{attrs:{label:"确认密码"}},[a("el-input",{model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-change":e.handleChange,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("div",{staticStyle:{width:"100%","text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleRegister()}}},[e._v("创建")]),a("el-button",{attrs:{type:"infor"},on:{click:function(t){return e.backLogin()}}},[e._v("返回登录")])],1)],1)],1)],1)],1)],1)],1)},r=[],l=a("b775"),o={data(){return{user:{id:"",username:"",password:"",birthday:"",area:"",telephone:""},confirmPassword:"",imageUrl:"",fileList:[],file:""}},methods:{handleAvatarSuccess(e,t){this.imageUrl=URL.createObjectURL(t.raw)},handleChange(e,t){this.fileList=t,this.file=e,this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload(e){const t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},backLogin(){this.$router.push("/user/login")},handleRegister(){if(0==this.user.username.length)return void this.$message.error("昵称不能为空");if(this.user.username.length>10)return void this.$message.error("昵称长度不能超过10个字符");let e=/\d{4}-\d{1,2}-\d{1,2}/;if(!e.test(this.user.birthday))return void this.$message.error("生日日期格式有错误，请检查");let t=/(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}/;if(t.test(this.user.telephone))if(0!=this.user.password.length)if(this.confirmPassword==this.user.password){var a=new FormData,s=this.file;a.append("file",s.raw),a.append("user",JSON.stringify(this.user)),l["a"].post("/addUser",a).then(e=>{200==e.data.status?(this.$message.success("注册成功"),this.$router.push("/user/login")):"用户名已被注册过"==e.data.message?this.$message.error("用户名已被注册过"):this.$message.error("注册失败")})}else this.$message.error("确认密码跟密码不一致，请检查");else this.$message.error("密码不能为空");else this.$message.error("请输入正确的手机号")}}},i=o,n=(a("ffb0"),a("2877")),u=Object(n["a"])(i,s,r,!1,null,null,null);t["default"]=u.exports},7792:function(e,t,a){},ffb0:function(e,t,a){"use strict";a("7792")}}]);
//# sourceMappingURL=chunk-7b7a2ae4.0e28e374.js.map